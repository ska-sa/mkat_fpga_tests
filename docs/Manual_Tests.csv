Requirement Number,Requirement Name,Requirement Description,Verification Requirement Name,Verification Requirement Number,Verification Requirement Description,Verification Event Name,Verification Event Number,Verification Event Description,Verification Event Results,Verification Event Performed By,Date of Verification Event,Notes,AR3
CBF-REQ-0137,CBF EMC Certification of Procured Items,"Commercial and non-developmental CBF electronic items shall be EMC/RFI certified according to CISPR 22 standard for Class B devices, or a SKA SA approved equivalent.",CBF Procured Items EMC Certification VR,VR.C.6,"Verify by inspection of the data sheets and/or specification of the procured item that is has been EMC/RFI certified according to CISPR 22 standard for Class B devices. If this is not the case, perform an analysis of the available EMC/RFI certification versus CISPR 22 standard for Class B devices. If equivalence can be argued, present this for approval to the SKA system engineer. Record of the motivation and the approval are to be stored in eB.",CBF Procured Items EMC Certification,CBF.V.1.11,"1. Inspect the data sheets and/or specification of each of the COTS items making up the CBF i.e. PDU, CMC, Data Switch LRU.
2. Confirm whether each has been EMC/RFI certified according to CISPR 22 standard for Class B devices.
3. For each item where this is true, record the item part number and reference the item data sheets and/or specification used.
4. For each item where this is not true, perform an analysis of the available EMC/RFI certification versus CISPR 22 standard for Class B devices. If equivalence can be argued, present this for approval to the SKA system engineer. If approved, attach the motivation and record the approval.
5. The test is considered a pass if each item either has been EMC/RFI certified according to CISPR 22 standard for Class B devices, or has been approved as equivalent by the SKA system engineer.",The COTS items making up the CBF have previously been shown to meet the EMC Certification specifications. These results are available in the CBF Environmental Qualification Test Reports M1200-0000-012-1 to M12000-0000-012-5.,Tyrone van Balla,28/02/2018,,
CBF-REQ-0131,CBF supply power level variation,The CBF shall provide full capability as defined in this specification with the input power supply voltage level varying by no more than ±6% from the nominal level.,CBF Power Supply VR,VR.C.38,Verification by inspection. Inspect CBF LRU datasheets to confirm that all CBF LRUs meet the specified power supply requirements.,CBF Power Supply VE,CBF.V.3.15,"1. Confirm by inspection of the datasheets of each of the LRUs used in the CBF that the LRUs are specified to work over an input voltage range of at least 209Vrms to at most 231Vrms with a frequency range of at least 49.5Hz to at most 50.5Hz.
2. Record the item part numbers and supply references to the item data sheets and/or specification used.
NOTE: Total harmonic distortion is not tested. This is considered low enough risk to be acceptable.","COTS:
Servers: Dell power supplies specification: 100-240Vac, up to 60Hz as per Dell-PowerEdge-R320-350W-E5-2440-Family-PPDS.pdf
PDUs: 400V 3PH, 50/60 Hz as per data sheet: AP8981_DATASHEET_EM_en-GB.pdf
Switches: 200-240VAC, 50-60Hz as per product brief: PB_SX1710.pdf (page 2)

Processing Nodes:
Processing Nodes:
The processing nodes are custom LRUs. Each LRU has been delivered with a Certificate of Compliance ensuring that the item was manufactured according to the specifications. The CoCs and processing node datapack is available in eB.",Alec Rust,28/02/2018,,
CBF-REQ-0132,CBF supply power frequency variation,The CBF shall provide full capability as defined in this specification with an input power supply frequency in the range 50Hz ±1%.,,,,,,,,,,,
CBF-REQ-0133,CBF supply power harmonic distortion,The CBF shall provide full capability as defined in this specification with an input power supply total harmonic distortion of no greater than 4%.,,,,,,,,,,,
CBF-REQ-0199,CBF safe design - toxic materials,"The CBF shall be ROHS compliant, with the exception that tin-lead solder may be used (ROHS exemption 7b/ROHS 5)",CBF Safe Design VR,VR.C.39,Verification by inspection. Inspect CBF LRU documentation to confirm that all CBF LRUs meet the safe design requirements.,CBF Safe Design VE,CBF.V.3.16,"1. Inspect the Bill-of-Materials of the processing nodes used in the CBF. Confirm that each part used is ROHS compliant, either with or without exception 7b. ROHS 6 and/or ROHS 5 is compliant with this. 
2. Inspect the datasheets of the COTS LRUs used in the CBF. Confirm that each LRU is ROHS compliant, either with or without exception 7b. ROHS 6 and/or ROHS 5 is compliant with this. 
3. Record the item part numbers and supply references to the item data sheets or BOM used.","COTS:
Servers: Dell servers are ROHS compliant as per Dell Worldwide Regulatory Compliance Engineering and Environmental Affairs: pedge_r320_e18s001_us.pdf
PDUs: APC AP8981 PDUs are ROHS compliant as per data sheet: AP8981_DATASHEET_EM_en-GB.pdf
Switches: Mellanox SX1710 switches are ROHS6 compliant as per product brief: PB_SX1710.pdf (page 2)

Processing Nodes:
The processing nodes are custom LRUs. Each LRU has been delivered with a Certificate of Compliance ensuring that the item was manufactured according to the specifications. The CoCs and processing node datapack is available in eB.",Alec Rust,28/02/2018,,
CBF-REQ-0061,CBF LRU status and display,"Each custom designed LRU in the CBF shall determine and indicate via clear visible LED indication the state of the LRU, as either OK (indicated in green) or not OK (which shall signify either an error condition or a failure, indicated as red), located such that the LED is visible with the LRU installed.",CBF LRU Status and Display VR,VR.C.40,Verification by inspection. Inspect CBF processing node physical hardware and documentation to confirm that the processing nodes will suitably display faults.,CBF LRU Status and Display VE,CBF.V.3.17,"1. Inspect CBF processing node physical hardware to confirm the presence of a status LED that is visible with the LRU installed.
2. Inspect CBF processing node documentation to confirm that the processing nodes will suitably display LRU status and faults 
- Green LED for OK state
- Red LED for ERROR or FAILURE state.","1. The SKARAB LRU has 9 visible LEDs: 4 green, 5 red LEDs.
2. The bank of 8 LEDs (4 red, 4 green) can be programmed to display LRU stauts and faults.
There is also a single dedicated fault LED (red) that illuminates on hardware failures and errors.",Tyrone van Balla,28/02/2018,,
CBF-REQ-0197,CBF COTS LRU status and display,"Each COTS LRU in the CBF should determine and indicate via clear visible LED indication the state of the LRU, located such that the LED is visible with the LRU installed.",CBF COTS LRU Status and Display VR,VR.C.41,Verification by inspection. Inspect CBF COTS LRUs physical hardware and documentation to confirm that the LRU has a status LED and that faults will be suitably displayed.,CBF COTS LRU Status and Display VE,CBF.V.3.18,"1. With the CBF installed in the racks and turned on, confirm whether the COTS LRUs indicate via LEDs, visible with the LRUs installed, the state of the LRU as OK.
2. Record for each COTS LRU, whether a status LED is present or not, and the LRU part number.
3. Note that this test is a desirable only, not mandatory. The test status must be marked as Passed once each of the LRUs have been checked, regardless of the result.","1. All COTS LRUs have status LEDs.
- 40 x Mellanox SX1710 switches and status LEDs visible from front of rack.
- 5 x Dell PowerEdge servers and status via front panel display visible.
- 12 x AP8981 PDUs have status LEDs visible from the back of the rack
2. See images: CBF.V.3.18.01.jpg to CBF.V.3.18.03.jpg",Alec Rust,28/02/2018,,
CBF-REQ-0182,CBF interchangeability,"CBF LRUs and SRUs with the same part number and version shall be interchangeable with no calibration, tuning or alignment. Loading of configuration files and/or software and/or firmware to the LRU and/or SRU and/or CBF sub-system is permitted.",CBF Interchangeability VR,VR.C.42,"Verification by inspection. Inspect the the CBF physical item structure and confirm that the CBF architecture enables items with the same part number and version to be interchanged with no calibration, tuning or alignment, after configuration files and/or software and/or firmware to the item have been loaded.",CBF Interchangeability VE,CBF.V.3.19,"Confirm by inspection of the CBF physical item structure, as captured in the latest approved Correlator-Beamformer Design Document, that:
1. The architecture enables Data Switch LRUs with the same part number and version to be interchangeable with no calibration, tuning or alignment, after configuration files and/or software and/or firmware to the switch have been loaded.
2. The architecture enables processing node LRUs with the same part number and version to be interchangeable with no calibration, tuning or alignment, after configuration files and/or software and/or firmware to the processing node have been loaded.
3. The architecture enables PDU LRUs with the same part number and version to be interchangeable with no calibration, tuning or alignment, after configuration files and/or software and/or firmware to the PDU have been loaded.
4. The architecture enables CMC LRUs with the same part number and version to be interchangeable with no calibration, tuning or alignment, after configuration files and/or software and/or firmware to the CMC have been loaded.","
1. Data switches have been replaced as specified in the KAPB.
2. Processing nodes have been replaced as specified in the KAPB.
3. PDU LRUs have been replaced as specified in the KAPB.
4. CMC LRUs are Dell R320 servers and are interchangeable.
",Alec Rust,21/02/2018,,
CBF-REQ-0168,CBF serviceable LRUs storage,"All serviceable LRU’s and SRU’s (spare items) shall be packaged in such a way that they can be stored in covered facilities, in all applicable weather conditions, for a period of at least 2 years, without incurring any damage.",CBF Periodic Maintenance LRU Storage VR,VR.C.43,Verification by inspection of the the CBF physical item structure. Confirm that the CBF does not contain items which require periodic maintenance.,CBF Periodic Maintenance LRU Storage VE,CBF.V.3.20,"1. Confirm by inspection of the CBF physical item structure, as captured in the latest approved M1200-0000-003 Correlator-Beamformer Design Document, that the CBF does not contain items which require periodic maintenance.

Note: If this is the case, the test can be marked as Passed, since the requirement is no longer applicable. If this is not the case, the test must be marked as Failed until a suitable test has been defined.","Inspection of the CBF Physical Item Structure indicates that the CBF does not contains any items, COTS, or otherwise, that require periodic maintenance.

This test therefore passes and the specifications are satisfied.",Tyrone van Balla,28/03/2018,,
CBF-REQ-0171,CBF Periodic maintenance LRU storage,The packaging containers for LRUs and SRUs (spare items) that require periodic maintenance during storage shall be red.,,,,,,,,,,,
CBF-REQ-0169,Unserviceable LRUs storage,"All unserviceable LRU’s and SRU’s (spare items) shall be packaged in such a way that they can be stored in covered facilities, in all applicable weather conditions, for a period of at least 6 months, without incurring any damage.",CBF LRU Storage,VR.C.44,Verification by means of Inspection. Confirm that all CBF LRUs are stored according to specifications.,CBF LRU Storage VE,CBF.V.3.21,"Confirm by inspection that:

1. The transport packaging containers defined in the CBF structure are CLIP-LOCK containers.
2. A label, or set of labels, for these containers have been defined, each containing at least the following information:
    - ""Fragile"" label
    - ""Careful transportation""
    - ""This side up""
    - Packaged Item Identification label with place for filling in of identification data
3. A Packaged Item Identification label has been defined when use to carry ROACHs, containing at least the following information:
    - Identification ""MeerKAT System Component""
    - LRU Name
    - LRU/SRU Part Number and Version
    - Packaged weight
    - Container stack-ability (if applicable)
4. A Packaged Item Identification plate has been defined when use to carry COTS LRUs containing at least the following information:
    - LRU Name
    - LRU/SRU Part Number and Version
    - Packaged weight
    - Container stack-ability (if applicable)
5. Record the part number of the Clip-Lock container(s).
6. Record the part number of the label, or labels if multiple are defined.

Note: A single Packaged Item Identification label catering for both options is permissible.
A single label with space for all of the above information is also permissible.
",CLIP-LOCK containers were not used for transporting CBF LRUs to site. Each type of LRU was packaged by the manufacturer in suitable containers. No transportation failures have occurded to date. All packaging was labelled correctly.,Alec Rust,21/03/2018,Clip Lock container in DBE lab.,
CBF-REQ-0170,CBF Clip-lock containers,The packaging containers for LRUs and SRUs (spare items) shall be CLIP-LOCK containers.,,,,,,,,,,,
CBF-REQ-0172,Container markings,"The packaging containers for LRUs and SRUs (spare items) shall have the following markings securely attached on the outside of the container: 
 i. “Fragile” label 
 ii. Mode of transport “careful transportation” or “very careful transportation” (ETSI Standard EN 300019-2-2 V2.1.2)
 iii. “This side up” label 
 iv. “Fork lift here” label, where applicable 
 v. Centre of gravity marking, where applicable 
 vi. Packaged Item Identification plate, with identification data completed. 
 vii. Tamper proof labels for “wrong way up” and “excessive acceleration”, where applicable",,,,,,,,,,,
CBF-REQ-0173,Packaged LRU identification,"The packaging containers for LRUs and SRUs (spare items) shall have the following Item Identification plate securely attached on the outside of the container: 
 i. Identification “MeerKAT System Component” (SKA SA fabricated or subcontracted items only).
 ii. LRU/SRU Name (supplied by MeerKAT System team) (SKA SA fabricated or subcontracted items only).
 iii. LRU/SRU Part Number and Version (supplied by MeerKAT System team) (SKA SA fabricated or subcontracted items only).
 iv. LRU/SRU serial number (shall be able to update this for the relevant unit). 
 v. LRU/SRU supplier part number (where applicable).
 vi. LRU/SRU supplier identification (where applicable).
 vii. Bar Code data (preferred)
 viii. Packaged weight
 ix. Container stackability (where applicable).
 x. Preservation date (where applicable)
 xi. Shelf life (where applicable).",,,,,,,,,,,
CBF-REQ-0147,CBF Carrying handles,All CBF LRU’s and SRU’s with a mass of more than 15kg and less than 40kg shall have carrying handles.,CBF Item Handling VR,VR.C.45,Verification by means of inspection. Confirm by inspection of the CBF physical item structure that all items weighing between 15kg and 40kg have handles and that those weighing over 40kg have suitable lifting arrangements.,CBF Item Handling VE,CBF.V.3.22,"Confirm by inspection of the CBF physical item structure, and supporting item documentation, that:
1. all items weighing no less than 15kg and no more than 40kg have carrying handles
2. all items weighing more than 40kg have suitable integral lifting arrangements",The CBF physical item structure contains no items with a weight that calls for special lifiting arrangements.,Alec Rust,28/03/2018,,
CBF-REQ-0148,CBF lifting arrangements,All CBF LRU’s and SRU’s with a mass of more than 40kg shall have an integral lifting arrangement such as eye-bolts.,,,,,,,,,,,
CBF-REQ-0152,CBF Product markings,"All CBF LRUs and SRUs shall be labelled with the following information, and shall be clearly visible when installed:
 i. Product Supplier Name.
 ii. Product Name (supplied by MeerKAT system team for SKA SA fabricated or subcontracted items).
 iii. Product Part Number (supplied by MeerKAT system team for SKA SA fabricated or subcontracted items).
 iv. Product Version (supplied by MeerKAT system team for SKA SA fabricated or subcontracted items).
 v. Product Serial Number.",CBF Item Marking and Labelling VR,VR.C.46,Verification by inspection. Inspect all CBF items to confirm they are marked and/or labelled according to specification.,CBF Item Marking and Labelling VE,CBF.V.3.23,"1. Confirm by inspection that each type of COTS LRU used in the CBF is labelled with the following information
    - Product Supplier Name
    - Product Serial Number.
2. Confirm by inspection that the above information is visible with the LRU installed in a rack. It is permissible that either the front or rear door of the CBF rack be opened to read the information.
3. Confirm by inspection that Processing Node LRUs are labelled with the following information:
    - Product Supplier Name
    - Product Name
    - Product Part Number
    - Product Version
    - Product Serial Number.
4. Confirm by inspection that the above information is visible with the processing node installed. It is permissible that either the front or rear door of the CBF rack be opened to read the information.
5. Remove the top lid of a processing node.
6. Confirm by inspection that each type of Mezzanine SRUs are labelled with the following information:
    - Product Supplier Name.
    - Product Name
    - Product Part Number
    - Product Version
    - Product Serial Number.
7. Confirm by inspection that the above information is visible with the only the processing node top lid removed. It is not permissible to have to unplug the card to read the information.
8. Confirm by inspection that each port on the LRU making up the CBF Data Switch is labelled with at least the port number.
9. Determine whether each CBF LRU contains any hazardous material. This would typically be lead and/or heatsink paste.
10. For each identified LRU containing hazardous material, confirm by inspection that the LRU has a Hazardous Waste label.
11. Confirm by inspection that each CBF internal cable (ie cables between CBF LRUs) is labelled.
12. Confirm that all physical switches and control elements have their functions marked on in English.","1a. Mellanox SX1710 - Supplier name and model number visible with switch installed in rack. Serial number visibible with switch removed from rack.
1b. Dell PowerEdge servers - Supplier name, model number and serial number visible with server installed in rack.
3 & 4: Product name, part number, version and serial number visible with processing nodes installed in rack. Supplier name visible with processing node removed from rack.
5. Lid removed.
6. QSFP+ Mezzanine SRUs are labelled as specified. HMC Mezzanine SRUs are labelled as specified but supplier name is obscured by heatsink
7. HMC mezzanine supplier name is obscured by heatsink.
8. All data switch port numbers are labelled.
9. SKARAB Processing nodes may contain leaded parts.
10. SKARAB Processing nodes have a ""do not dispose"" label.
11. All internal CBF cables are labelled.
12. All CBF switches are marked.
13. See images: CBF.V.3.23.01.jpg to CBF.V.3.23.09.jpg",Alec Rust,28/02/2018,,
CBF-REQ-0153,CBF Connector labelling,All external connectors on the CBF shall be labelled to allow for identification of the connector during installation and maintenance.,,,,,,,,,,,
CBF-REQ-0154,CBF Safety markings,The CBF shall display warning information of dangers that may jeopardise the safety of the personnel or result in a hazardous situation.,,,,,,,,,,,
CBF-REQ-0155,CBF Control markings,The CBF shall have the functions of all physical switches and control elements clearly marked in the English language.,,,,,,,,,,,
CBF-REQ-0184,CBF Wiring connectors,All cabled connections internal to the CBF shall be clearly labelled to allow identification during installation.,,,,,,,,,,,
CBF-REQ-0162,CBF use of COTS equipment,"The CBF should make maximum use of commercial off the shelf (COTS) equipment, and where possible COTS components with long support life expectancy should be chosen.",CBF Use of COTS Equipment VR,VR.C.47,Verification by inspection. Inspect the CBF physical item structure to confirm that COTS equipment with long support life expectancy is used.,CBF Use of COTS Equipment VE,CBF.V.3.24,"1. Confirm by inspection of the CBF physical item structure that the CBF design utilises largely commercial off the shelf (COTS) equipment.
2. Confirm, where possible, that the COTS equipment used have long support life expectancy. 


Note: The second point is highly subjective and the opinion of the CBF Technical Lead or Test Engineer is sufficient to pass the test.","Inspection of the CBF physical item structure shows that the CBF design comprises mainly COTS equipment. COTS equipment are employed for the servers, switches, and PDUs. The only custom LRUs present in the item structure are the processing nodes.

It is the opinion of the CBF System Engineer that the COTS equipment employed in the CBF deisng have long support life expectancy.",Tyrone van Balla,28/02/2018,,
CBF-REQ-0060,CBF report logs,"The CBF shall report, via the CAM interface, CBF log messages at a configurable logging level.",CBF Logging VR,VR.C.48,Verification by demonstration. Demonstrate the CBF logging infrastructure and verify that log messages are reported at the correct level. Verify that the logging level is configurable. Confirm that logging can continue indefinitely and that log files contain more than 1000 events.,CBF Logging VE,CBF.V.3.25,"1. Turn the CBF on and wait for it to boot.
2. ssh into the CMC.
3. Watch the current log file using command ""tail -f <filename>.katlog""
4. Via the CAM interface, request the current log level using KATCP command ""?log-level""
5. Confirm the CBF replies with ""#log-level ok <>"", where <> contains one of off, fatal, error, warn, info, debug, trace, all.
6. Set the log level using KATCP command ""?log-level info""
7. Confirm the CBF replies with ""#log-level ok info""
8. Send an invalid KATCP command eg ""?guesswhatthisis""
9. Confirm that a message is logged to the log file that an unknown command was received.
10. Set the log level using KATCP command ""?log-level debug""
11. Confirm the CBF replies with ""#log-level ok debug""
12. Confirm that messages are being logged periodically, as the CBF is being used.
13. Set the log level using KATCP command ""?log-level fatal""
14. Confirm the CBF replies with ""#log-level ok fatal"" 
15. Set the log level back to the setting which it was at the start of the test.
16. Peruse archived log files and confirm that the log file contains more than 1000 lines.","(cbf_qual)mmphego@cmc3:~/src/mkat_fpga_tests (site-testing-changes)
2018-03-27 21:18:16] $ >>> tail -f /var/log/cmc.kcplog
#log info 1522177044.647373 fxcorrelator_xengops.py Waiting\_7.09\_seconds\_for\_arm\_to\_trigger.
#log info 1522177051.782283 fxcorrelator_xengops.py VACC\_ld_cnt\_counters\_incremented\_successfully.
#log info 1522177053.120 basic accepted\_new\_connection\_from\_10.103.254.6:53273\_via\_array0.control
#client-connected 10.103.254.6:53273
#log info 1522177053.163549 fxcorrelator_xengops.py X-engine\_output\_enabled
#log info 1522178045.677 basic accepted\_new\_connection\_from\_10.103.254.6:34911\_via\_primary
#client-connected 10.103.254.6:34911
#log info 1522178045.886 basic accepted\_new\_connection\_from\_10.103.254.6:53275\_via\_array0.control
#client-connected 10.103.254.6:53275
#log info 1522178045.952 cmc-array0 will\_use\_epoch\_1522175113.65



See additional screenshots below",M. Mphego,22/03/2018,,
CBF-REQ-0177,CBF log system events,The CBF shall log system events in an internal log file with size sufficient for at least 1000 event logs.,,,,,,,,,,,
CBF-REQ-0196,CBF event log wrap,"The CBF shall implement the event log as a circular buffer i.e. if the log is full, the oldest events shall be overwritten.",,,,,,,,,,,
CBF-REQ-0204,CBF Control feedback,"The CBF shall, on request via the CAM interface, report the requested setting of each control parameter.",CBF Control VR,VR.C.59,Verification by demonstration. Verify by demonstrating that commands to set the required parameters exist. Set values and confirm that these values are correctly reported when requested back.,CBF Control VE,CBF.V.3.37,"1. Request the following parameters via CAM interface and confirm if they're available.
    a) Downconversion frequency
    b) Channelisation configuration
    c) Accumulation interval
    d) Re-quantiser settings (Gain)
    e) Complex gain correction
    f) Polarisation correction.
2. and report the requested setting of each control parameter:","mmphego@cmc3:~/src/mkat_fpga_tests/docs/manual_tests_images (site-testing-changes)
[2018-03-22 17:23:02] $ >>> kcpcmd -t 180 -s 10.103.254.6:$(kcpcmd -s 10.103.254.6:7147 array-list array0 | grep -a array-list | cut -f3 -d ' ' ) help
#version-connect instrument.fengine-firmware-77777-git {'/home/skarab_fpga/source/feng_wide/s_c856m4k.slx': ""[andrew@andrew-Precision-T1600] [http://github.com/ska-sa/mkat_fpga] [860480287608bdca1c88af1b05ef4ef43236af28 - jmanley@ska.ac.za - Wed, 7 Mar 2018 14:25:50 +0200] [On branch devel - Changes not staged for commit:] [' M source/feng_wide/s_c856m4k.slx']"", 'tag': 'rcs', '/home/jasper_devel': '[andrew@andrew-Precision-T1600] [https://github.com/ska-sa/mlib_devel] [2228c5f34b9506042609ccddc266018ded5f6df9 - andrew@ska.ac.za - Fri, 2 Mar 2018 11:31:15 +0200] [On branch devel - nothing to commit (use -u to show untracked files)] []'}
#version-connect instrument.katcp-device corr2 instrument servlet-0.1 corr2-0.1alpha
#version-connect instrument.katcp-library katcp-python-0.6.2
#version-connect instrument.katcp-protocol 5.0-IM
#version-connect instrument.xengine-firmware-77777-git {'/mnt/secondary/rhel_root/opt/casper_library/mlib_devel.jasper': ""[jmanley@jmanley-build] [] [b8ccb9904bd3896bcfb08f2eb526a4140b02e51e - aisaacson@ska.ac.za - Tue, 27 Feb 2018 10:36:34 +0200] [On branch reduced_clock - Your branch is up-to-date with 'origin/reduced_clock'.] []"", 'tag': 'rcs', '/home/jmanley/projects/mkat_fpga/source/xeng_wide/s_b4a4x256f_slovacc.slx': ""[jmanley@jmanley-build] [git@github.com:ska-sa/mkat_fpga.git] [file not in Git] [On branch devel - Your branch is up-to-date with 'origin/devel'.] []""}
#version-connect monitor.katcp-device device_stub-0.1 name-0.1
#version-connect monitor.katcp-library katcp-python-0.6.2
#version-connect monitor.katcp-protocol 5.0-IM
#version-connect cbf-server CMC-M.1200.12
#version-connect katcp-device cbf-1.h v0.3.0-244-g2550d7d
#version-connect katcp-library Ckatcp-v0.2.0-201-g78fde70
#version-connect katcp-protocol 5.0-M
#help accumulation-length set the integration interval (?accumulation length period)
#help adc-snapshot retrieve a snapshot of ADC data for a specific input (?adc-snapshot input-label [unix-time])
#help arb arbitrary callback manipulation (?arb [list]
#help beam-passband set the beam passband (?beam-passband beam bandwidth center frequency)
#help beam-quant-gains set the quantiser gain for a beam (?beam-quant-gain beam [gain])
#help beam-weights set the beam weigths (?beam-weights beam [values]*)
#help broadcast send messages to everybody (?broadcast group inform [arguments])
#help bulk-sampling configure several sensors (?bulk-sampling sensors+ [strategy [parameter]])
#help capture-destination set data stream destination (?capture-destination stream data-destination)
#help capture-list list data products
#help capture-meta reissue stream meta-data (?capture-meta stream)
#help capture-start start data stream output (?capture-start stream)
#help capture-stop stop data stream output (?capture-stop stream)
#help client-config set a client option (?client-config (duplex|server|client|hidden|visible|prefixed|fixed|translate|native|[no-]named-log) [client])
#help client-connect create a client to a remote host (?client-connect host:port [group [name]])
#help client-exec create a client to a local process (?client-exec label [group [binary [args]*])
#help client-halt stop a client (?client-halt [name [group]])
#help client-list display currently connected clients (?client-list)
#help client-rename rename a client (?client-rename new-name [old-name [group]])
#help client-switch switch a client's group (?client-switch group [client])
#help cmd-alias create new command from existing (?cmd-alias new existing)
#help cmd-delete remove a command (?cmd-delete command)
#help cmd-help set the help message for a command (?cmd-help command message)
#help cmd-hide hide a command (?cmd-hide command)
#help cmd-uncover reveal a hidden command (?cmd-uncover command)
#help delays set delay and fringe correction (?delays unix-time [coefficient-set]*)
#help digitiser-synch-epoch internal synchronisation interface (?digitiser-synch-epoch epoch)
#help fft-shift set the FFT shift value (?fft-shift [value])
#help forward-symbolic create a command which generates a request against another party (?forward-symbolic command remote [remote-command])
#help frequency-select set the center of the frequency band (?frequency-select stream center frequency)
#help gain set gain factors (?gain input [values])
#help gain-all set gain factors (?gain-all [values])
#help group-config set a group option (?group-config option [group])
#help group-create create a new group (?group-create name [group])
#help group-halt halt a group (?group-halt [group])
#help group-list list groups (?group-list)
#help halt halt (?halt)
#help help display help messages (?help [command])
#help input-labels set names of all inputs (?label inputs [name]*)
#help instrument-activate launch the specified instrument (?instrument-activate instrument)
#help instrument-list show fielded instruments (?instrument-list)
#help listener-config configure a listener (?listener-config label [nagle|fast])
#help listener-create create a listener (?listener-create label [port [interface [group]]])
#help listener-halt stop a listener (?listener-halt port)
#help listener-list list listeners (?listener-list [label])
#help log-default retrieve or adjust the log level of subsequent connections (?log-default [level])
#help log-level retrieve or adjust the log level (?log-level [level])
#help log-limit adjust the log level of the current connection (?log-limit [level])
#help log-local adjust the log level of the current connection (?log-local [level])
#help log-override retrieve or adjust the log level in various permutations (?log-override [level [client|group|default [name]]])
#help quantiser-snapshot retrieve quantiser data
#help relay issue a request to a peer within the same process (?relay peer cmd)
#help restart restart (?restart)
#help scope change scoping level (?scope scope [(group | client) name])
#help sensor-list lists available sensors (?sensor-list [sensor])
#help sensor-sampling configure a sensor (?sensor-sampling sensor [strategy [parameter]])
#help sensor-value query a sensor (?sensor-value sensor)
#help synchronisation-epoch digitiser synchronisation time (?synchronisation-epoch time)
#help system-info global system information (?system-info)
#help timer-list list timer instances (?timer-list)
#help timer-rename rename a timer instance (?timer-rename old-name new-name)
#help transient-buffer-trigger trigger the transient buffer for all inputs (?transient-buffer-trigger)
#help var-declare declare a variable (?var-declare name attribute[,attribute]* [path])
#help var-delete remove a variable (?var-set variable)
#help var-list list variables (?var-list [variable])
#help var-set set a variable (?var-set variable value [type [path]])
#help var-show list variables (?var-show [variable])
#help version-list list version information (?version-list)
#help watchdog pings the system (?watchdog)
#help whoami get current connection name (?whoami)
!help ok 70
",M. Mphego,22/03/2018,,
CBF-REQ-0071,CBF Control,"The CBF shall provide the functionality to set the following parameters via the CAM interface:
 
 a) Downconversion frequency
 b) Channelisation configuration
 c) Accumulation interval
 d) Re-quantiser settings (Gain)
 e) Complex gain correction
 f) Polarisation correction.",,,Verification by demonstration. Verify by demonstrating that commands to set the required parameters exist. Set values and confirm that these values are correctly reported when requested back.,,,,,,,,
CBF-REQ-0021,CBF Full Functional mode,"In Full Functional mode of OPERATIONAL state, the CBF shall provide the full functionality as defined in this specification.",CBF Full Functional Mode VR,VR.C.37,Verification by analysis. Verify by analysing the results of CBF Functional Tests. Confirm that these tests were run in the OPERATIONAL state.,CBF Full Functional Mode VE,CBF.V.3.77,1. Refer to CBF functional tests and confirm that the tests were successfully run in the OPERATIONAL state. ,"This requirement is verified if all the other tests performed in the OPERATIONAL state pass.
",TBD,TBD,,
CBF-REQ-0011,CBF Retain configuration in OFF state,"The CBF, when in OFF state, shall retain all information previously uploaded into non-volatile memory, including but not limited to firmware images, software images, bootloaders and configuration files, with no data corruption for a period of at least 2 years.",CBF Configuration Retention in OFF State VR,VR.C.36,Verification by analysis. Verify by analysis that CBF configuration data is stored on appropriate storage devices capable of retaining configuration data when in the OFF state for a period of at least 2 years.,CBF States and Modes VE,CBF.V.3.3,"Configuration Retention

1. Analyse the CBF storage architecture to determine whether the employed scheme is capable of retaining configuration data for a period of at least 2 years while the CBF is in the OFF state.

Transition from OFF state to INITIALISATION state

2. Start with the CBF off. Turn the CBF on by turning on power to the PDU(s). Start a stopwatch.
3. Observe that each of the LRUs powers up, loads any boot firmware, software bootloaders and operating systems, and launches the operational state software applications. This must be done completely automatically, manual intervention is not permitted.
4. During this boot process, send a KATCP status request message every few seconds. It is permissible for the CBF to be unresponsive while initialising.

Transition from INITIALISATION state to OPERATIONAL state

5. Continue sending status requests every few seconds, until the CBF response. This is considered to be an indication that the CBF has entered operational state. Record the time from when power was applied to when the CBF first responders to a status request.
6. Confirm that each of the processing nodes has been allocated an IP address, by inspecting the leases in dnsmasq.
7. If not, continue checking until this is the case, and record the time that it occurred.

CBF Reset and Restart

8. Restart the CBF by issuing the appropriate command on the CAM interface.
9. Send a status request, and confirm that the CBF does not respond.
10. Send a status request message every few seconds. It is permissible for the CBF to be unresponsive while initialising.
11. Continue sending status requests every few seconds, until the CBF response.
12. Record the time taken from reboot command to CBF responding.

Transition from INITIALISATION state to FAULT state

13. Turn the CBF CMC on.
14. After five seconds, remove the CAM network cable from the CMC.
15. Verify that the CMC remains unresponsive, indicating a Fault state.
16. Reconnect the CAM network cable to the port on the CMC.
17. Repeatedly issue KATCP system-info request messages every few seconds.
18. Continue sending system-info requests every few seconds, until the CBF response. This is considered to be an indication that the CBF has entered operational state.
","Configuration Retention

The CBF configuration data is stored on commercial, enterprise-class, magnetic Harddisk drives in a redundant RAID-1 array. This storage configuration provides retention of the CBF configuration data.

Transitions

1. Started with CBF in the OFF state. Turned on power to CBF via PDUs.
2. CBF became OPERATIONAL after 4 minutes. This included all switches. All processing nodes received IP addresses.
3. CBF restart issued via CAM interface.
4. Confirmed that CBF does not respond to CAM requests.
5. ERROR: CBF did not return, manually restarted KATCP.
6. CBF returned to OPERATIONAL state.
7. Network cable removed from CMC, CMC not responding.
8. Network cable restored, CMC returned to operational state after 30 seconds.

",Alec Rust,28/02/2018,,
CBF-REQ-0012,CBF Transition from OFF to INITIALISATION state,The CBF shall transition from OFF state to INITIALISATION state once input power is within defined operational limits.,CBF States and Modes demonstration VR,VR.C.9,"Verification by demonstration of the transitions between OFF, INITIALISATION and OPERATIONAL state, including introducing induced failures (simulate degraded mode) and critical failures (simulate FAULT state).",CBF States and Modes VE,,,,,,,
CBF-REQ-0014,CBF Transition when power outside of limits,The CBF may transition to OFF state from any other state once input power is outside of operational limits.,CBF States and Modes demonstration VR,VR.C.9,"Verification by demonstration of the transitions between OFF, INITIALISATION and OPERATIONAL state, including introducing induced failures (simulate degraded mode) and critical failures (simulate FAULT state).",CBF States and Modes VE,,,,,,,
CBF-REQ-0016,CBF Initialise,"On entry to INITIALISATION state, the CBF shall load all boot firmware, load all software bootloaders and operating systems, and launch any operational state software applications.",CBF States and Modes demonstration VR,VR.C.9,"Verification by demonstration of the transitions between OFF, INITIALISATION and OPERATIONAL state, including introducing induced failures (simulate degraded mode) and critical failures (simulate FAULT state).",CBF States and Modes VE,,,,,,,
CBF-REQ-0017,CBF Communication during Initialise,The CBF may be unresponsive to all communication interfaces during INITIALISATION state.,CBF States and Modes demonstration VR,VR.C.9,"Verification by demonstration of the transitions between OFF, INITIALISATION and OPERATIONAL state, including introducing induced failures (simulate degraded mode) and critical failures (simulate FAULT state).",CBF States and Modes VE,,,,,,,
CBF-REQ-0018,CBF Initialisation state to Fault state,The CBF shall transition from INITIALISATION state to FAULT state if initialisation fails.,CBF States and Modes demonstration VR,VR.C.9,"Verification by demonstration of the transitions between OFF, INITIALISATION and OPERATIONAL state, including introducing induced failures (simulate degraded mode) and critical failures (simulate FAULT state).",CBF States and Modes VE,,,,,,,
CBF-REQ-0019,CBF Initialisation state to Operational state,The CBF shall transition from INITIALISATION state to OPERATIONAL state once hardware and software initialisation is complete.,CBF States and Modes demonstration VR,VR.C.9,"Verification by demonstration of the transitions between OFF, INITIALISATION and OPERATIONAL state, including introducing induced failures (simulate degraded mode) and critical failures (simulate FAULT state).",CBF States and Modes VE,,,,,,,
CBF-REQ-0022,CBF Degraded mode,"In Degraded mode of OPERATIONAL state, the CBF may provide a subset of the functionality defined in this specification.",CBF States and Modes demonstration VR,VR.C.9,"Verification by demonstration of the transitions between OFF, INITIALISATION and OPERATIONAL state, including introducing induced failures (simulate degraded mode) and critical failures (simulate FAULT state).",CBF States and Modes VE,,,,,,,
CBF-REQ-0024,CBF Operational state to Fault State,The OPERATIONAL state may transition to the FAULT state if a critical error occurs.,CBF States and Modes demonstration VR,VR.C.9,"Verification by demonstration of the transitions between OFF, INITIALISATION and OPERATIONAL state, including introducing induced failures (simulate degraded mode) and critical failures (simulate FAULT state).",CBF States and Modes VE,,,,,,,
CBF-REQ-0027,CBF Fault state to Operational state,The FAULT state may transition to the OPERATIONAL state if a critical error is resolved.,CBF States and Modes demonstration VR,VR.C.9,"Verification by demonstration of the transitions between OFF, INITIALISATION and OPERATIONAL state, including introducing induced failures (simulate degraded mode) and critical failures (simulate FAULT state).",CBF States and Modes VE,,,,,,,
CBF-REQ-0064,CBF reset and restart,"The CBF shall, on request via the CAM interface, reset/restart the CBF subsystem.",CBF States and Modes demonstration VR,VR.C.9,"Verification by demonstration of the transitions between OFF, INITIALISATION and OPERATIONAL state, including introducing induced failures (simulate degraded mode) and critical failures (simulate FAULT state).",CBF States and Modes VE,,,,,,,
CBF-REQ-0103,CBF Baseline Correlation Products - accumulator dynamic range,"The CBF shall have a probability of saturation of the Baseline Correlation Products for the maximum permissible accumulation interval of $$\le 0.01\%$$, with a Gaussian noise input signal with $$\sigma <= 3 \: levels$$ (after channelisation).",CBF Accumulator Dynamic Range VR,VR.C.55,Verification by means of analysis. Verify by analysing the CBF design to confirm that the specified accumulator dynamic range criteria are met.,CBF Accumulator Dynamic Range VE,CBF.V.3.33,1. Analyse the CBF design and provide rationale that supports the notion that the accumulator dynamic range requirement criteria are met.,"The correlator vector-accumulators provide for 32-bit storage per complex component. Signed, 2's complement numbers are employed. They accumulate 9-bits values (8 bit multiplier output), where the arrival rate depends on the channeliser configuration.

Considering the 4096-channel configuration at L-band and 500ms accumulations, 1712e6/8192*0.5=104492 additions take place per accumulation. The bit growth would be log2(104492)=16.67 bits. Thus, even at full-scale DC input values, only 17 bits of growth takes place. 9+17 = 26 bits. It is thus impossible to overflow the 32-bit accumulators with 500ms accumulations on L-band.

Considering the 32768-channel configuration at L-band and 500ms accumulations, the bit growth would be log2(1712e6/65536*0.5)=13.67 bits. Thus, no overflows are possible here, either.

The probability of an overflow occurring in the correlator's vector accumulator output for any input signal is thus zero.",Jason Manley,14/02/2018,,
CBF-REQ-0001,CBF Data Products Available for all Receivers,"The CBF, when requested to produce any of the defined data products, shall produce the requested data product with any one of the installed receivers.",CBF Data Products Available for All Receivers VR,VR.C.58,Verification by analysis. Verify by analysis of the CBF design that all receivers can be used as inputs to the CBF.,CBF Data Products Available for All Receivers VE,CBF.V.3.36,1. Analyse the CBF design and provide rationale to support that CBF data products can be produced with any one of the installed receivers.,"CBF incorporates a 64 port switch that will allow digitiser data to be routed to any F-Engine.
CBF data products are generated by F- and X-engines. The CBF is interconnected by a Clos network architecture with leaf switches which connect to all possible data subscribers, thus all data subscribers may access all data products from F- or X-engines.",Alec Rust,14/02/2018,,
CBF-REQ-0140,CBF Cooling method,The CBF shall require no external cooling besides that provided by the natural convection of air moving from the cold aisle to the hot aisle. Active cooling (e.g. fans) within the CBF is permitted.,CBF Cooling Method VR,VR.C.61,Verification by inspection. Verify by inspecting the CBF installation and confirm that the cooling method adheres to the specifications.,CBF Cooling Method VE,CBF.V.3.39,"Confirm, by inspection, that: 
1. The front and rear doors of the CBF racks are perforated to allow natural convection of air moving from the cold aisle to the hot aisle
2. The CBF has no external cooling besides that provided by natural convection of air moving from the cold aisle to the hot aisle, and optionally active cooling (e.g. fans) which are mounted inside the CBF and/or inside of CBF LRUs.","1. Front and read doors of all CBF racks are perforated.
2. All CBF LRUs have no external cooling and contain fans.
3. See images: CBF.V.3.39.01.jpg to CBF.V.3.39.02.jpg",Alec Rust,28/02/2018,,
CBF-REQ-0142,CBF Humidity upper limit,The CBF shall provide full capability as defined in this specification with a Relative Humidity of $$\le60%$$ and a dew point of $$\le15{^{\circ}}C$$.,CBF Humidity VR,VR.C.62,Verification by inspection. Verify by inspection of all CBF LRU datasheets that the LRUs satisfy the upper and lower humidity limits.,CBF Humidity VE,CBF.V.3.40,"The August-Roche-Magnus approximation related temperature (T), dew point (TD) and relative humidity (RH) with the equations:
- RH: = 100 * (EXP((17.625\*TD) / (243.04+TD)) / EXP((17.625\*T) / (243.04+T))) 
- TD: = 243.04 * (LN(RH/100)+((17.625\*T)/(243.04+T))) /(17.625-LN(RH/100)-((17.625\*T)/(243.04+T))) 
- T: = 243.04 * (((17.625\*TD)/(243.04+TD))-LN(RH/100)) /(17.625+LN(RH/100)-((17.625\*TD)/(243.04+TD))) 

Applying these equations to the CBF humidity requirements, over the CBF temperature range, the requirements can be satisfied by the CBF having operational humidity range between 25% and 82%, non condensing. 

1. Inspect the data sheets and/or specification of each of the COTS items making up the CBF ie PDU, CMC, Data Switch LRU. 
2. Confirm whether each has an operational humidity specification better than 25% to 82%, non condensing. 
3. Record the item part numbers in the Observations section below, and attach the item data sheets and/or specification used.

The humidity environment for the CBF processing node is not specified. However, the specified transport environment is harsher than the KAPB operational environment, and the result of the transport environment verification is used as verification of the humidity environment requirement. 

1. Inspect the verification results of the processing node. 
2. Confirm that the transport environment verification passed.","The COTS items making up the CBF have previously been shown to meet the Humidity specifications. These results are available in the CBF Environmental Qualification Test Reports M1200-0000-012-1 to M12000-0000-012-5.

The processing nodes making up the CBF have previously been shown to meet the Humidity specifications. These results are available in the CBF Environmental Qualification Test Reports M1200-0000-012-1 to M12000-0000-012-5 and the qualification documents of the processing node: CQTRR-2015052503, which is included in the document datapack of the processing node.",Tyrone van Balla,28/02/2018,,
CBF-REQ-0143,CBF Humidity lower limit,The CBF shall provide full capability as defined in this specification with a dew point of $$\ge5.5{^{\circ}}C$$ over the entire dry bulb temperature range.,,,,,,,,,,,
CBF-REQ-0145,CBF storage environment,"The CBF shall provide full capability as defined in this specification after storage for 2 years under conditions as defined in “Class 1.1: Weather protected, partly temperature-controlled storage locations” of the ETSI EN 300 019-1-1 standard.",CBF Storage Environment VR,VR.C.63,Verification by inspection. Verify by inspection of datasheets that all stored CBF LRU satisfy the storage environment specifications.,CBF Storage Environment VE,CBF.V.3.41,"
ETSI EN 300 019-1-1, Class 1.1 specifies a storage environment of: 

- Humidity between 5% to 95% 
- Temperature between 5 Degrees Celsius and 45 Degrees Celsius 
- Condensation 
- No precipitation 
- No icing 

CBF items will be stored in protective boxes, which will protect against condensation. The test therefore checks just for on-operational temperature and humidity ranges of CBF LRUs. 

1. Inspect the data sheets and/or specification of each of the COTS items making up the CBF ie PDU, CMC, Data Switch LRU. 
2. Confirm whether each has storage temperature between 5 Degrees Celsius and 45 Degrees Celsius or better, and non-operational humidity between 5% to 95%or better. 
3. For each item where this is true, record the item part number and reference the item data sheets and/or specification used. 

The storage environment for the CBF processing node is not specified. However, the specified transport environment is harsher than the storage environment, and the result of the transport environment verification is used as verification of the storage environment requirement. 

1. Inspect the verification results of the CBF processing node. 
2. Confirm that the transport environment verification passed.
","The COTS items making up the CBF have previously been shown to meet the Storage Environment specifications. These results are available in the CBF Environmental Qualification Test Reports M1200-0000-012-1 to M12000-0000-012-5.

The processing nodes making up the CBF have previously been shown to meet the Storage Environment specifications. These results are available in the CBF Environmental Qualification Test Reports M1200-0000-012-1 to M12000-0000-012-5 and the qualification documents of the processing node: CQTRR-2015052503, which is included in the document datapack of the processing node.",Tyrone van Balla,28/02/2018,,
CBF-REQ-0141,CBF Temperature range,The CBF shall provide full capability as defined in this specification with dry-bulb cold aisle environment temperatures of $$18^{\circ}C\degree\:<CBF_{temp}<\:35^{\circ}C$$.,CBF Temperature Range VR,VR.C.64,Verification by inspection. Verify by inspection of all relevant CBF LRU documentation that full capability is possible over the specified temperature range.,CBF Temperature Range VE,CBF.V.3.42,"1. Inspect the data sheets and/or specification of each of the COTS items making up the CBF ie PDU, CMC, Data Switch LRU.
2. Confirm whether each has an operational temperature specification better than 18 Degrees Celsius to 35 Degrees Celsius
3. Record the item part number and reference the item data sheets and/or specification used.
","The COTS items making up the CBF have previously been shown to meet the Temperature Range specifications. These results are available in the CBF Environmental Qualification Test Reports M1200-0000-012-1 to M12000-0000-012-5.

The processing nodes making up the CBF have previously been shown to meet the Temperature Range specifications. These results are available in the CBF Environmental Qualification Test Reports M1200-0000-012-1 to M12000-0000-012-5 and the qualification documents of the processing node: CQTRR-2015052503, which is included in the document datapack of the processing node.",Tyrone van Balla,28/02/2018,,
CBF-REQ-0146,CBF Transportation of components,The CBF shall provide full capability as defined in this specification after transportation in an approved container under conditions as defined in “Class 2.2: careful transportation” of the ETSI EN 300 019-1-2 standard.,CBF Transportation of Components VR,VR.C.65,Verification by demonstration. Verify by demonstration that CBF LRUs transported to the KABP are fully functional.,CBF Transportation of Components VE,CBF.V.3.43,"After deployment of a number of (at least 12) processing nodes to the KAPB and other LRU infrastructure: 
1. If any processing nodes or LRUs failed after transportation, analyse the failure to determine whether vibration was the cause of failure. 
2. The test passes if no processing nodes failed, or if vibration was not the cause of any failures.
","The processing node failures experienced were not caused by vibration. For the processing nodes that experienced failure, the failure was found to be caused by issues related to the HMC cards installed in the nodes. Incomplete testing during manufacture casued these error-prone HMC cards to go unnoticed.",Tyrone van Balla,28/02/2018,,
CBF-REQ-0156,CBF Product marking environmentals,Product Markings shall remain attached and remain legible in all environments and conditions for which the CBF is specified.,CBF Product Marking Environmentals VR,VR.C.66,Verification by inspection. Verify by inspecting that the CBF labels as installed meet the specifications.,CBF Product Marking Environmentals VE,CBF.V.3.44,"The test for the label environmental is to inspect the labels for damage at least one year after the CBF has been deployed to the KAPB.

That is considered sufficient time for each of the labels to have been exposed to the storage, transport and operational environment to demonstrate the robustness of the labels.
Between one year and two years after the first CBF has been deployed to the KAPB:

1. Inspect the labels on each of the items making up the CBF ie PDU, CMC, Processing Nodes, Data Switch LRU.
2. Confirm that the equipment labels are still attached.
3. Confirm that the information on the equipment labels is still legible.
4. Inspect the labels on at least one of each of the cable types in the CBF racks.
5. Confirm that the cable labels are still attached.
6. Confirm that the information on the cable labels is still legible.

","1. Item labels inspected.
2. All equipment labels are still attached.
3. Information on equipment labels are still legible.
4. Labels on all cable types inspected.
5. All labels are still attached.
6. All information is still legible.
7. See images: CBF.V.3.44.01.jpg to CBF.V.3.44.08.jpg
",Alec Rust,28/02/2018,,
CBF-REQ-0158,CBF Over Temperature Shut Down,Each LRU of the CBF shall have an over temperature protection mechanism.,CBF Fail Safe VR,VR.C.67,Verification by inspection. Verify by inspection of all CBF LRU relevant documentation that the LRUs implement overtemperature and fail safe protection mechanisms.,CBF Fail Safe VE,CBF.V.3.45,"1. Confirm by inspection of the datasheets of each of the COTS LRUs making up the CBF, that each LRU has an overtemperature protection mechanism.
2. Record the item part number and reference relevant page of the datasheet used, or a printout of the supplier confirmation.
3. Confirm by inspection of the CBF processing node verification results that the over temperature shutdown function passed. Provide a reference to the processing node test result document.

NOTE: if this information is not contained in the datasheets, direct confirmation from the supplier is acceptable.","The COTS items making up the CBF have previously been shown to meet the Overtemperature Shutdown specifications. These results are available in the CBF Environmental Qualification Test Reports M1200-0000-012-1 to M12000-0000-012-5.

The processing nodes making up the CBF have previously been shown to meet the Overtemperature Shutdown specifications. These results are available in the CBF Environmental Qualification Test Reports M1200-0000-012-1 to M12000-0000-012-5 and the qualification documents of the processing node: CQTRR-2015101502, which is included in the document datapack of the processing node.",Tyrone van Balla,28/02/2018,,
CBF-REQ-0160,CBF locally fail safe,All CBF LRUs shall be designed to be locally fail safe without relying on external components.,,,,,,,,,,,
CBF-REQ-0161,CBF safe design - external temperature,"The temperature of all external mechanical surfaces of the CBF, in all functional states and over the full operating temperature range, shall be less than 80 degrees C, provided the CBF is mounted as specified.",CBF Safe Physical Design VR,VR.C.68,Verification by inspection. Inspect the CBF system installed in the KAP and confirm that the external temperature is below the limit and that all edges adhere to the specifications.,CBF Safe Physical Design VE,CBF.V.3.47,"With the CBF installed and running in the KAPB:
1. Connect to a CBF rack using an anti-static wrist strap.
2. Run your hands over the accessible external edges of the rack, confirming that fingers/hands can be run lightly over all accessible edges without causing cuts.
3. Confirm that accessible external edges of the rack can be touched comfortably i.e. the temperature is below 80 Degrees C.
4. Open the front door of each rack. Repeat the sharp edges and surface temperature test on the installed equipment on rack internal surfaces and edges which are now accessible.
5. Open the back door of each rack. Repeat the sharp edges and surface temperature test on rack internal surfaces and edges which are now accessible.
6. Close the rack doors.
7. Repeat for each CBF rack which is utilised.","1. Test performed with an anti-static strap.
2. All external edges of the racks are safe.
3. All external edges of the racks are cool to the touch.
4. All edges are safe, some LRU's are hot to the touch but below 80 Degrees C.
5. All edges are safe, some LRU's are hot to the touch but below 80 Degrees C.",Alec Rust,28/02/2018,,
CBF-REQ-0186,CBF safe design - sharp edges,External edges and corners of CBF LRUs shall be rounded to a radius not less than 0.5 mm.,,,,,,,,,,,
CBF-REQ-0107,Route Digitisers CAM data,The CBF shall route CAM data between the DMC and all the Digitisers.,CBF Digitiser CAM Data VR,VR.C.69,Verification by demonstration. Verify by demonstrating the flow of digitiser sensor data.,CBF Digitiser CAM Data VE,CBF.V.3.48,"1. Connect to a live digitiser from the DMC host. 
2. Request sensor information.
3. Confirm sensor information is valid.","The following shows digitiser sensor data being routed between a digitiser and the DMC:

alec@cmc2:~$ kcpcmd -s dmc1:7200 sensor-value
#version-connect dig-l-31.dcpproxy KAT/1-291-g5e42b5b
#version-connect dig-l-31.firmware m1130_2042sdp_rev1_23_of
#version-connect dig-l-31.katcp-library v0.2.0-190-gec0e7e7 2018-02-01T09:53:40
#version-connect dig-l-31.katcp-protocol 5.0-M
#version-connect dig-l-31.kernel 3.13.1 #1 SMP Wed Feb 5 14:37:06 SAST 2014
#version-connect katcp-device digitiser-1.b e9ec171
#version-connect katcp-library Ckatcp-v0.2.0-72-g669959c
#version-connect katcp-protocol 5.0-M
#sensor-value 1521726566.566 1 device-status nominal ok
#sensor-value 1521726512.689 1 l-band.adc.hpol.ambient.temp nominal 37.5178
#sensor-value 1521725870.689 1 l-band.adc.hpol.die.temp nominal 51.526
#sensor-value 1521726510.689 1 l-band.adc.hpol.rf.power.in nominal -30.2528
#sensor-value 1521726513.689 1 l-band.adc.vpol.ambient.temp nominal 37.3622
#sensor-value 1521726515.689 1 l-band.adc.vpol.die.temp nominal 50.4799
#sensor-value 1521726511.689 1 l-band.adc.vpol.rf.power.in nominal -30.2259
#sensor-value 1521212689.433 1 l-band.bandwidth nominal 856000000
#sensor-value 1521212689.433 1 l-band.centre-frequency nominal 1.284e+09
#sensor-value 1521721697.645 1 l-band.comms.status nominal 0
#sensor-value 1521615841.403 1 l-band.deng.adc.hpol.pll.err nominal 0
#sensor-value 1521615841.403 1 l-band.deng.adc.vpol.pll.err nominal 0
#sensor-value 1521723627.706 1 l-band.deng.fpga.die.temp nominal 51
#sensor-value 1521726432.910 1 l-band.deng.humidity nominal 18.4755
#sensor-value 1521707144.398 1 l-band.deng.overflow nominal 0
#sensor-value 1521721411.850 1 l-band.deng.pps.ticks nominal 213999999
#sensor-value 1521725010.690 1 l-band.deng.pps.ticks.hires nominal 1712000000
#sensor-value 1521615841.403 1 l-band.deng.sfp0.err nominal 0
#sensor-value 1521615841.403 1 l-band.deng.sfp1.err nominal 0
#sensor-value 1521615841.403 1 l-band.deng.sfp2.err nominal 0
#sensor-value 1521615841.403 1 l-band.deng.sfp3.err nominal 0
#sensor-value 1521212689.433 1 l-band.device-status nominal ok
#sensor-value 1521212689.433 1 l-band.hpol-status warn degraded
#sensor-value 1521726566.566 1 l-band.marking nominal ready
#sensor-value 1521726520.000 1 l-band.noise-diode nominal 1
#sensor-value 1521615730.707 1 l-band.power.failed nominal 0
#sensor-value 1521720610.619 1 l-band.rfcu.hpol.attenuation nominal 6
#sensor-value 1521726368.689 1 l-band.rfcu.hpol.baseplate.temp nominal 37.6587
#sensor-value 1521706595.703 1 l-band.rfcu.hpol.overload nominal 0
#sensor-value 1521726508.689 1 l-band.rfcu.hpol.rf.power.in nominal -38.4026
#sensor-value 1521721438.908 1 l-band.rfcu.vpol.attenuation nominal 6
#sensor-value 1521726461.689 1 l-band.rfcu.vpol.baseplate.temp nominal 37.323
#sensor-value 1521706600.908 1 l-band.rfcu.vpol.overload nominal 0
#sensor-value 1521726509.689 1 l-band.rfcu.vpol.rf.power.in nominal -38.423
#sensor-value 1521212689.433 1 l-band.sampling-rate nominal 1712000000
#sensor-value 1521726440.689 1 l-band.scg.1pps.optical.power nominal 5.62641
#sensor-value 1521725703.689 1 l-band.scg.adc.clock.power nominal 0.135215
#sensor-value 1521721059.399 1 l-band.scg.attenuation nominal 4
#sensor-value 1521726300.689 1 l-band.scg.psu.ambient.temp nominal 55.6362
#sensor-value 1521726441.689 1 l-band.scg.rx.optical.power nominal -3.35932
#sensor-value 1521726527.000 1 l-band.scg.time.stamps nominal 176755440068641
#sensor-value 1521212689.433 1 l-band.sideband nominal upper
#sensor-value 1521704244.175 1 l-band.spectrometer.overflow nominal 0
#sensor-value 1521610366.000 1 l-band.time.server-offset nominal -61
#sensor-value 1521623343.501 1 l-band.time.synchronisation-epoch nominal 1521623282.000000000
#sensor-value 1521212689.433 1 l-band.time.synchronisation-offset nominal 39570.1
#sensor-value 1521212689.433 1 l-band.timestamp-multiplier nominal 1
#sensor-value 1521212689.433 1 l-band.vpol-status warn degraded
#sensor-value 1521726566.566 1 s-band.marking nominal absent
#sensor-value 1521212691.000 1 selected-band nominal l
#sensor-value 1521726566.566 1 u-band.marking nominal absent
#sensor-value 1521726566.566 1 x-band.marking nominal absent
!sensor-value ok 52
",Alec Rust,21/03/2018,,
CBF-REQ-0224,Route Basic Spectrometer data,"The CBF, upon request, shall continuously route Basic Spectrometer data to the subscribed user(s) via the interface as specified in the appropriate ICD, provided that the interface has sufficient available bandwidth.",CBF Route Basic Spectrometer Data VR,VR.C.70,Verification by means of analysis. Routing of digitiser raw data is verified by VR.C.19. Show through calculation that adding basic spectrometer data will not saturate the link.,CBF Route Basic Spectrometer Data VE,CBF.V.3.49,"The generation of basic Spectrometer data and Digitisers raw data are functions of the digitiser, not the CBF. 
The CBF merely has to route this data to subscribed users. 

The test thus consists of checking that data from ports assigned to Digitiser inputs can be routed to ports assigned to SP/USE and that the added traffic load will not saturate the network links.

1. Determine the bandwidth required for Basic Spectrometer Data.
2. Determine the maximum bandwidth per Digitiser link during normal operation.
3. Verify the the link will not be saturated when routing Basic Spectrometer Data.
 
 ","The antennas interface to the same core 40Gb/s Ethernet switch as the CBF components. This same switch also provides the interfaces to all data subscribers. The switch is designed to offer a full crossbar interconnect, and so any port is able to access data from any other port at full linerate. All data products, CBF and DIG included, multicast their data into this switch. Any port may subscribe to any combination of these streams using industry-standard IGMPv2 signalling up to the full linerate capacity of the local port.",Jason Manley,14/02/2018,,
CBF-REQ-0149,CBF MTBF,"The CBF shall have a mean time between critical failures of $$\ge 4$$ months, where:
  - time is counted only when the CBF is powered on
  - the CBF remains within operational limits (temperature, humidity, input power) at all times
  - a critical failure is defined as the inability of the CBF to produce any of the data product set for less than 90% of the array.",CBF MTBF VR,VR.C.71,Verification by analysis. Verify by analysing the relevant CBF LRU documentation. Collate all LRU MTBF figures and confirm that the specification is met.,CBF MTBF VE,CBF.V.3.50,"1. Determine the MTBF by inspection of the datasheets of each of the LRUs used in the CBF.
2. Collate all the MTBF figures and confirm that the full system adheres to the specification.
3. Record all LRU MTBF figures.","An FMECA was conducted to provide Failure Mode Data and Reliability Data for the MeerKAT CBF. The results of this analysis indicate that the CBF has a Mean Time Between Critical Failure (MTBCF) of 85 391 hours. This information, along with the complete FMECA, is available in M1200-0000-004 Correlator Beamformer (CBF) FMECA Report.",Tyrone van Balla,28/02/2018,,
CBF-REQ-0179,CBF mechanical interface to DMC,"The CBF shall provide a 19"" rack mounting space for the DMC, with height at least 3U, full rack width, and depth at least 1000mm.",CBF Internal Interfaces VR,VR.C.72,"Verification by inspection. Verify by inspecting that the interfaces between the CBF, DMC, Data Switches and C&M switches meet the specifications.",CBF Internal Interfaces VE,CBF.V.3.52,"
1. Verify by inspection that the CBF does provide a 19"" rack mounting space for the DMC, with height at least 3U, full rack width, and depth at least 1000mm. 
2. Verify by inspection that the output power connectors between the CBF and the DMC are each located in one of the CBF racks, on flyleads with connector specification: 

- Connector type: IEC 60320-2 Standard, type C13 (kettle cord connector) 
- Quantity: Four (4) 
3. Verify by inspection that each power pair is either sourced from a different phase bank of a single PDU, or from different phase bank of separate PDUs. 
4. Verify by inspection that the physical link between the DMC and the CBF Data Switch is via one 40GBASE-CR4, QSPF+, length =3m.
5. Verify by inspection that the physical link between the DMC and the CBF CAM switch is via one 1000BASE-T STP cable, Cat6a, RJ45 to RJ45, length =2m.
6. Verify by inspection that the CBF does provide a 19"" rack mounting space for M&C switches, with height at least 3U, full rack width, and depth at least 1000mm.
7.  Verify by inspection that the output power connectors between the CBF and the M&C switches are each be located in one of the CBF racks, on fly-leads with connector specification: 

- Connector type: IEC 60320-2 Standard, type C13 (kettle cord connector) 
- Quantity: Six (6) 
8. Verify by inspection that each power pair is either sourced from a different phase bank of a single PDU, or from different phase bank of separate PDUs. 
9. Verify by inspection that the physical link between the M&C switches and the DMC is one 1000BASE-T STP cable, Cat6a, RJ45 to RJ45, length =2m.","1. Required space for the DMC servers provided in rack B6.
2. Power connectors are present as specified.
3. Power is supplied to DMC1 via two separate PDUs: B6-PDU1, port 13 and B6-PDU2, port 13.
- Power is supplied to DMC 2 via two separate PDUs: B6-PDU1, port 20 and B6-PDU2, port 20.
4. Link between DMC and CBF data switch is as specified. Both DMC1 and DMC2.
5. Link between DMC and CBF CAM switch is as specified. Both DMC1 and DMC2.
6. Required space for M&C switches provided in rack B6.
7. Power connectors are present as specified.
8. Power is supplied to TOR1 via two separate PDUs: B6-PDU1, port 15 and B6-PDU2, port 15
- Power is supplied to TOR 2 via two separate PDUs: B6-PDU1, port 17 and B6-PDU2, port 17.
9. Link is present as specified.",Alec Rust,28/02/2018,,
CBF-REQ-0180,DMC power interface,"The output power connectors between the CBF and the DMC shall each be located in one of the CBF racks, on flyleads with connector specification:
 $$ \bullet $$ Connector type: IEC 60320-2 Standard, type C13 (kettle cord connector)
 $$ \bullet $$ Quantity: Four (4)
 $$ \bullet $$ Each pair sourced from a different phase bank of a single PDU, or from different phase bank of separate PDUs if available",,,,,,,,,,,
CBF-REQ-0190,DMC to CBF C&M LAN ethernet link,"The physical link between the DMC and the CBF C&M LAN shall be via one 1000BASE-T STP cable, Cat6a, RJ45 to RJ45, length $$\ge$$2m.",,,,,,,,,,,
CBF-REQ-0194,DMC to CBF Data Switch ethernet link,"The physical link between the DMC and the CBF Data Switch shall be via one 40GBASE-CR4 QSFP+ cable, length $$\le$$3m.",,,,,,,,,,,
CBF-REQ-0201,CBF mechanical interface to CBF C&M LAN switches,"The CBF shall provide a 19"" rack mounting space for the CBF C&M LAN switches with height at least 3U, full rack width, and depth at least 1000mm.",,,,,,,,,,,
CBF-REQ-0202,CBF C&M LAN switches power interface,"The output power connectors between the CBF and the CBF C&M LAN switches shall each be located in one of the CBF racks, on flyleads with connector specification:
 $$ \bullet $$ Connector type: IEC 60320-2 Standard, type C13 (kettle cord connector)
 $$ \bullet $$ Quantity: Six (6)
 $$ \bullet $$ Each pair sourced from a different phase bank of a single PDU, or from different phase bank of separate PDUs if available",,,,,,,,,,,
CBF-REQ-0136,CBF Mechanical Interface to Infrastructure,"The mechanical interface between the CBF racks and the KAPB shall be via the base of eleven (11) 19” racks, each provided as CFI.",CBF External Interfaces VR,VR.C.73,Verification by inspection. Verify by inspecting the CBF as installed in the KAPB and confirming that the space and infrastructure specifications are met.,CBF External Interfaces VE,CBF.V.3.53,"1. With the CBF installed in the KAPB, confirm that no more than 11 racks have been used to house the complete CBF.
2. Record the number of racks used.","The CBF is housed from rack B1 to rack B10, 10 racks in total.",Alec Rust,28/02/2018,,
CBF-REQ-0166,CBF Space Requirement,"The CBF shall be contained in no more than eleven (11) 42U 19"" racks.",,,,,,,,,,,
CBF-REQ-0150,CBF mean downtime,"The CBF shall have a mean time to repair of $$\le8$$ hours, where:
  - repair consists of removing and replacing the highest level faulty assembly, and confirming full capability of the CBF has been restored
  - time to detect the fault is excluded
  - time to localise the fault is excluded
  - time to source a replacement assembly and transport it to the site is excluded
  - time to gain access to the CBF is excluded
  - test time to confirm the repair is included.",CBF LRU Replacement VR,VR.C.74,Verification by demonstration. Verify by demonstrating the replacement of relevant CBF LRUs.,CBF LRU Replacement VE,CBF.V.3.54,"The CBF Mean Time To Repair test is accomplished by means of demonstration. This must be carried out by maintenance personnel.

 1. Select the most difficult CBF LRU to remove. The choice is left to the person conducting the test.
 2. Start a timer.
 3. Remove the selected LRU.
 4. Once the LRU has been completely removed, replace the LRU, including refitted all connections.
 5. Run tests to confirm that the CBF is operating correctly.
 6. Stop the timer once the CBF has been confirmed operational.
 7. Confirm that the elapsed time is less than 8 hours. Record the achieved MTTR.
 8. Repeat this procedure for a processing node and with the processing node removed confirm that the CBF is still operational by starting an instrument.","1. Donville Rosekrans performed this test.
2. SKARAB-32 in rack B12 was replaced with a spare that way available on site.
3. The replacement operation took 4 minutes.
4. The replacement SKARAB received an IP address and was confirmed to be operational.
5. All other LRUs in the CBF are of similar complexity to replace.
6. See images: CBF.V.3.54.01.jpg to CBF.V.3.54.02.jpg",Donville Rosekrans and Alec Rust,28/02/2018,,
CBF-REQ-0151,Processing Node hot-swappable,Processing Nodes shall be hot-swappable without influencing the operation of the CBF as a whole.,,,,,,,,,,,
CBF-REQ-0193,CBF to SP Ethernet Link,"For AR3 and beyond, the physical link between the CBF and SP shall be via sixteen (16) 40GbE QSFP+ ports provided on the CBF Data Switch.
 
 In prior array releases, as applicable, this physical link may be realised via fewer ports and/or may employ 10GbE interconnects.",CBF Data Subscribers Link VR,VR.C.75,Verification by inspection. Verify by inspection that the CBF provides the correct number of 40GbE QSFP+ ports on the CBF Data Switch to all data subscriber groups.,CBF Data Subscribers Link VE,CBF.V.3.57,"1. Verify by inspection that the CBF provides the correct number of 40GbE QSFP+ ports on the CBF Data Switch to all data subscriber groups.
2. Record the number of ports and their locations.",The physical link between CBF and SDP comprises 16 QSFP+ ports. These ports are provided on Leaf Switches 21 - 24 in the CBF installing in the KAPB.,Alec Rust,28/02/2013,,
CBF-REQ-0195,CBF to IPUSE ethernet link,The physical link between the CBF and IPUSE shall be via one (1) 40GbE QSFP+ ports provided on the CBF Data Switch.,,,,,,,,,,,
CBF-REQ-0230,CBF to PTUSE Ethernet link,The physical link between the CBF and the PTUSE shall be via four (4) 40GbE QSFP+ ports provided on the CBF Data Switch.,,,,,,,,,,,no
CBF-REQ-0231,CBF to TUSE Ethernet Link,The physical link between the CBF and TUSE shall be via eight (8) 40GbE QSFP+ ports provided on the CBF Data Switch.,,,,,,,,,,,no
CBF-REQ-0232,CBF to APSUSE Ethernet link,The physical link between the CBF and APSUSE shall be via eight (8) 40GbE QSFP+ ports provided on the CBF Data Switch.,,,,,,,,,,,no
CBF-REQ-0233,CBF to FBFUSE Ethernet link,The physical link between CBF and FBFUSE shall be via sixty-four (64) 40GbE QSFP+ ports provided on the CBF Data Switch.,,,,,,,,,,,no
CBF-REQ-0235,CBF to SETI Ethernet link,The physical link between the CBF and SETI shall be via one-hundred and twenty-eight (128) 40GbE QSFP+ ports provided on the CBF Data Switch.,,,,,,,,,,,no
CBF-REQ-0237,CBF Sub-Array Data Product Sets,"Each Sub-Array of the CBF shall be independently configurable to produce one of the following data product sets:
 a) Imaging data product set
 b) Pulsar Timing data product set
 c) Transient Search data product set
 d) Fly’s Eye data product set
 e) VLBI data product set
 f) Generic TA data product set.",CBF Sub-Array Data Product Set VR,VR.C.84,Verification by means of analysis. Analyse test results of each data product listed and verify that these are produced.,CBF Sub-Array Data Product Set VE,CBF.V.3.58,1. Analyse test results of each CBF data product available at the time of testing and verify that these are produced.,"This test passes if it is demonstrated that sub-arrays can be configured to independently produce any of the available CBF data product sets. This QTR has tested that one sub-array is able to produce the required data products. Sub-arrays are all handled the same way within the CBF, and so these data products are possible on any subarray. The possible number of subarrays and combinations of data products are limited only by available hardware resources. These are allocated dynamically as needed. For example, sufficient hardware (160 SKARABs) has been deployed on AR3 to allow combinations such as (assuming no hardware failures): 64A array + 16A array OR 2x 32A arrays + 16A array OR 4x16A arrays + 2x 8A arrays OR 4x16A arrays + 1x 8A array + 2x 4A arrays These combinations will degrade gracefully in the event of hardware failures. The availability of a particular combination of subarrays and data products may be tested at any time using the commands listed in the CAM ICD.",Jason Manley,14/02/2018,,
CBF-REQ-0223,CBF Antenna Channelised Voltage data - data transfer,"The CBF, when requested to produce the Antenna Channelised Voltage data product, shall transfer the data continuously to the subscribed user(s) via the interface as specified in the appropriate ICD.",CBF Channelised Voltage Data Transfer,VR.C.92,Verification by means of analysis. Analyse switch infrastructure to ensure users can subscribe to channelised voltage data.,CBF Channelised Voltage Data Transfer VE,CBF.V.3.66,"1. Analyse switch infrastructure to ensure users can subscribe to channelised voltage data.
2. Confirm that the switch infrastructure provides enough bandwidth to transport channelised voltage data.","
The antennas interface to the same core 40Gb/s Ethernet switch as the CBF components. This same switch also provides the interfaces to all data subscribers. The switch is designed to offer a full crossbar interconnect, and so any port is able to access data from any other port at full linerate. All data products, CBF and DIG included, multicast their data into this switch. Any port may subscribe to any combination of these streams using industry-standard IGMPv2 signalling up to the full linerate capacity of the local port.",Jason Manley,14/02/2018,,
CBF-REQ-0139,CBF EMC NRS code of practice,"Each CBF rack shall provide a ground connection point for connection to the KAPB earth grid.
 Each CBF LRU shall connect its chassis, rack connection points and input power chassis pin together with a resistance of less than 0.1 ohm, as per NRS 083-2 section 5.2.4.3j.
 The processing node LRUs shall have an integrated power filter on the input power line, with its housing connected directly to the chassis of the processing node LRU, as per NRS 083-2 section 5.3.2.
 Each CBF cabinet shall have at least one ESD earthing point, as per NRS 083-2 section 5.2.6.2.",CBF Design to NRS 083 Standards VR,VR.C.8,"Verify by inspection that::
 Each CBF rack has a ground connection point.
 The processing node has an integrated power filter on the input power line.
 Each CBF cabinet has at least one ESD earthing point.
 
 Measure the resistance between the chassis, rack connection points and input power chassis pin on one of each type of LRU used on the CBF. Confirm that this is less than 0.1 ohm.
 Measure the resistance between the housing of the processing input power filter and the processing chassis. Confirm this is less than 0.1 ohm.",CBF Design to NRS 083 Standards VE,CBF.V.6.10,"1. Verify by inspection that each CBF rack has a ground connection point.
2. Verify by inspection that each CBF cabinet has at least one ESD earthing point.
3. Measure the resistance between the chassis, rack connection points and input power chassis pin on one of each type of LRU used on the CBF. Confirm that this is less than 0.1 ohm. Record the measured resistance.
4. Verify by inspection of appropriate supporting documentation that the CBF processing node has an integrated power filter on the input power line.
5. Measure the resistance between the housing of the processing node input power filter and the processing node chassis. Confirm this is less than 0.1 ohm. Record the resistance.","1. All CBF racks have ground connection points.
2. All CBF racks have ESD earthing points.
3. Resistance measured between chassis, rack connection points and input power chassis pin on all LRU types. Resistance found to be approximately 0.1 ohm.
4. CBF processing nodes contains an integrated power filter.
5. Resistance between housing and power filter is less than 0.1 ohm. Resistance measured < 0.1ohm
6. See image: CBF.V.6.10.01.jpg",Alec Rust,28/02/2018,,
CBF-REQ-0138,CBF EMC SANS standard,"10GbE and 40GbE Ethernet cables between the data switch and other LRUs within the CBF shall be either CAT6 or higher cables with a screen of 80% or higher optical coverage, grounded at both ends, or active optical cable, both terminating in either SPF+ 40GbE or 10GbE connectors.
 1GbE Ethernet cables between the Top-of-Rack switch and other LRUs within the CBF shall be CAT6 or higher cables terminating in RJ45 connectors.
 Ethernet cables within a rack should be bundled separately from power cables, with separation distance >500mm as per NRS 083-3 section 4.4.3.
 Cable bundles within a rack should be run closely against the rack sidewalls, with power and ethernet bundles preferably on opposite sides of the cabinet, as per NRS 083-3 section 4.4.20.
 Where Ethernet cables and power cables cross within a rack, they should be routed to cross at right angles, as per NRS 083-3 section 4.4.9.",CBF Design to EMC SANS Standard VR,VR.C.7,"Verify by inspection that 10GbE and 40GbE Ethernet cables used in the CBF are either CAT6 or higher, or active optical cables.
 Verify by inspection that Ethernet cables within each CBF rack have been bundled separately from power cables, with separation distance >500mm. Note that this is a recommendation only, and should be followed where possible, within space/cable length constraints.
 Verify by inspection that cable bundles within each CBF rack have been routed to run closely against the rack sidewalls, with power and Ethernet bundles preferably on opposite sides of the cabinet. Note that this is a recommendation only, and should be followed where possible, within space/cable length constraints.
 Verify by inspection that where Ethernet cables and power cables cross within each CBF rack, they have been routed to cross at right angles. Note that this is a recommendation only, and should be followed where possible, within space/cable length constraints.",CBF Design to EMC SANS Standard VE,CBF.V.6.9,"Inspect that:
1. 10GbE and 40GbE Ethernet cables used in the CBF are either CAT6 or higher, or active optical cables.
2. Ethernet cables within each CBF rack have been bundled separately from power cables, with separation distance >500mm. Note that this is a recommendation only, and should be followed where possible, within space/cable length constraints.
3. cable bundles within each CBF rack have been routed to run closely against the rack sidewalls, with power and Ethernet bundles preferably on opposite sides of the cabinet. Note that this is a recommendation only, and should be followed where possible, within space/cable length constraints.
4. where Ethernet cables and power cables cross within each CBF rack, they have been routed to cross at right angles. Note that this is a recommendation only, and should be followed where possible, within space/cable length constraints.","1. Cables verified.
2. Cables are bundled separately but the separation distance is not more than 500mm due to space constraints in the racks.
3. This has been done where possible. Not all cable bundles are routed closely against rack sidewalls as this would violate the minimum bend radius of 40GbE cables. 
4. Due to space constraints this is not done on all cable bundles.
5. See images: CBF.V.6.9.01.jpg to CBF.V.6.9.03.jpg",Alec Rust,28/02/2018,,
CBF-REQ-0228,CBF Define Sub-Arrays,"The CBF shall, on request via the CAM interface, assign resources to multiple sub-arrays, each with independent input data, control, data capture and processing , where each sub-array contains either 8, 16, 32, 64, or 128 inputs.
 The maximum number of inputs to be supported by CBF should be determined by the MeerKAT Array Release that is deployed.",CBF Sub-Arrays VR,VR.C.29,Verification by means of test. Verify by setting up multiple sub-arrays and verify that they operate independently without interference.,CBF Sub-Arrays VE,CBF.V.3.56,"1. Start one sub-array with either  8, 16, 32, 64, or 128 inputs.
2. Start another sub-array with a different set of inputs.
3. Configure two digitiser simulators for each sub-array to output a CW. Use different frequencies for the two CW tones.
4. Capture a image data product for each sub-array and verify that the correct response is received for each and no interference is observed.","The terminal output below shows two sub-arrays running. Data products were recieved for both instruments with no interference:

alec@cmc2:~$ kcpcmd array-list
#version-connect cbf-server CMC-M.1200.12
#version-connect katcp-device cbf-1.h v0.3.0-246-g2450907-dirty
#version-connect katcp-library Ckatcp-v0.2.0-199-g77da733
#version-connect katcp-protocol 5.0-M
#array-list array5 7408,7508 239.101.10.64+1:7148 239.101.10.66+1:7148 239.101.10.64+1:7148 239.101.10.66+1:7148 239.101.10.64+1:7148 239.101.10.66+1:7148 239.101.10.64+1:7148 239.101.10.66+1:7148
#array-list array_1 7404,7504 239.10.0.0+1:7148 239.10.0.2+1:7148 239.10.0.4+1:7148 239.10.0.6+1:7148 239.10.0.8+1:7148 239.10.0.10+1:7148 239.10.0.12+1:7148 239.10.0.14+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148 239.10.0.16+1:7148 239.10.0.18+1:7148
!array-list ok
",Alec Rust,28/02/2018,,